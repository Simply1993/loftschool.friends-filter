webpackJsonp([0],[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var i=document.querySelector("#source"),a=document.querySelector("#target"),s=i.querySelector(".filter__input"),o=a.querySelector(".filter__input"),u=document.querySelector(".btn--save"),l=[],c=[];function f(e,t){var r=n(2),i=e.querySelector(".friends"),a=e.querySelector(".filter__input"),s=t.filter(function(e){return function(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}(e.first_name+" "+e.last_name,a.value)}),o=r({friends:s});return i.innerHTML=o,s}VK.init({apiId:6673689}),new Promise(function(e,t){VK.Auth.login(function(n){n.session?e():t(new Error("Не удалось авторизоваться"))},2)}).then(function(){return function(e,t){return t.v="5.76",new Promise(function(n,r){VK.api(e,t,function(e){e.error?r(e.error):n(e.response)})})}("friends.get",{fields:"photo_100"})}).then(function(e){l=e.items,f(i,l),(0,r.default)({zones:[i,a],buttonAdd:"btn--add",buttonDelete:"btn--delete",friendsSource:l,friendsTarget:c}),s.addEventListener("keyup",function(){return f(i,l)}),o.addEventListener("keyup",function(){return f(a,c)}),u.addEventListener("click",function(){localStorage["friend-filter"]=JSON.stringify({friendsListSource:l,friendsListTarget:c})})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=function(t,n,r){if(n!==t){var i=r.querySelector(".btn"),a=t.querySelector(".friends__list");i.classList.contains(e.buttonAdd)?(i.classList.remove(e.buttonAdd),i.classList.add(e.buttonDelete)):(i.classList.remove(e.buttonDelete),i.classList.add(e.buttonAdd)),a.appendChild(r);var s=e.friendsSource.findIndex(function(e){return e.id==r.getAttribute("data-id")});if(console.log(s),s>=0){var o=e.friendsSource.splice(s,1);e.friendsTarget.push(o[0])}console.log(e.friendsSource,e.friendsTarget)}};e.zones.forEach(function(r,i){r.addEventListener("click",function(t){t.target.classList.contains(e.buttonAdd)?n(e.zones[i+1],r,t.target.closest(".friend")):t.target.classList.contains(e.buttonDelete)&&n(e.zones[i-1],r,t.target.closest(".friend"))}),r.addEventListener("dragstart",function(e){t={source:r,node:e.target}}),r.addEventListener("dragover",function(e){e.preventDefault()}),r.addEventListener("drop",function(e){t&&(e.preventDefault(),n(r,t.source,t.node),t=null)})})}},function(e,t,n){var r=n(3);e.exports=function(e){var t,n="",i=e||{};return function(e){n+='<ul class="friends__list">',function(){var i=e;if("number"==typeof i.length)for(var a=0,s=i.length;a<s;a++){var o=i[a];n=n+'<li class="friends__item friend" draggable="true"'+r.attr("data-id",`${o.id}`,!0,!0)+'><div class="friend__photo"'+r.attr("style",r.style(`background-image: url(${o.photo_100});`),!0,!0)+'><img class="friend__img visually-hidden"'+r.attr("alt",`${o.first_name} ${o.last_name}`,!0,!0)+'></div><div class="friend__title">'+r.escape(null==(t=`${o.first_name} ${o.last_name}`)?"":t)+'</div><div class="friend__btn btn btn--add"></div></li>'}else for(var a in s=0,i)s++,o=i[a],n=n+'<li class="friends__item friend" draggable="true"'+r.attr("data-id",`${o.id}`,!0,!0)+'><div class="friend__photo"'+r.attr("style",r.style(`background-image: url(${o.photo_100});`),!0,!0)+'><img class="friend__img visually-hidden"'+r.attr("alt",`${o.first_name} ${o.last_name}`,!0,!0)+'></div><div class="friend__title">'+r.escape(null==(t=`${o.first_name} ${o.last_name}`)?"":t)+'</div><div class="friend__btn btn btn--add"></div></li>'}.call(this),n+="</ul>"}.call(this,"friends"in i?i.friends:"undefined"!=typeof friends?friends:void 0),n}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e,t){return Array.isArray(e)?function(e,t){for(var n,r="",a="",s=Array.isArray(t),o=0;o<e.length;o++)(n=i(e[o]))&&(s&&t[o]&&(n=u(n)),r=r+a+n,a=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var i in e)i&&e[i]&&r.call(e,i)&&(t=t+n+i,n=" ");return t}(e):e||""}function a(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)r.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+""}function s(e,t,n,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=u(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.merge=function e(t,n){if(1===arguments.length){for(var r=t[0],i=1;i<t.length;i++)r=e(r,t[i]);return r}for(var s in n)if("class"===s){var o=t[s]||[];t[s]=(Array.isArray(o)?o:[o]).concat(n[s]||[])}else if("style"===s){var o=a(t[s]);o=o&&";"!==o[o.length-1]?o+";":o;var u=a(n[s]);u=u&&";"!==u[u.length-1]?u+";":u,t[s]=o+u}else t[s]=n[s];return t},t.classes=i,t.style=a,t.attr=s,t.attrs=function(e,t){var n="";for(var o in e)if(r.call(e,o)){var u=e[o];if("class"===o){u=i(u),n=s(o,u,!1,t)+n;continue}"style"===o&&(u=a(u)),n+=s(o,u,!1,t)}return n};var o=/["&<>]/;function u(e){var t=""+e,n=o.exec(t);if(!n)return e;var r,i,a,s="";for(r=n.index,i=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}i!==r&&(s+=t.substring(i,r)),i=r+1,s+=a}return i!==r?s+t.substring(i,r):s}t.escape=u,t.rethrow=function e(t,r,i,a){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&r||a))throw t.message+=" on line "+i,t;try{a=a||n(4).readFileSync(r,"utf8")}catch(n){e(t,null,i)}var s=3,o=a.split("\n"),u=Math.max(i-s,0),l=Math.min(o.length,i+s);var s=o.slice(u,l).map(function(e,t){var n=t+u+1;return(n==i?"  > ":"    ")+n+"| "+e}).join("\n");t.path=r;t.message=(r||"Pug")+":"+i+"\n"+s+"\n\n"+t.message;throw t}},function(e,t){}],[0]);