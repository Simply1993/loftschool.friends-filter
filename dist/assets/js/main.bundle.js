webpackJsonp([0],[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var i=document.querySelector("#source"),a=document.querySelector("#target"),s=i.querySelector(".filter__input"),o=a.querySelector(".filter__input"),d=document.querySelector(".btn--save"),l=[],u=[];function f(e,t){var r=n(2),i=e.querySelector(".friends"),a=e.querySelector(".filter__input"),s=r({friends:t.filter(function(e){return function(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}(e.first_name+" "+e.last_name,a.value)}),zone:e.getAttribute("id")});i.innerHTML=s}VK.init({apiId:6673689}),new Promise(function(e,t){VK.Auth.login(function(n){n.session?e():t(new Error("Не удалось авторизоваться"))},2)}).then(function(){return function(e,t){return t.v="5.76",new Promise(function(n,r){VK.api(e,t,function(e){e.error?r(e.error):n(e.response)})})}("friends.get",{fields:"photo_100"})}).then(function(e){if(localStorage["friends-filter"]){var t=JSON.parse(localStorage["friends-filter"]);u=e.items.filter(function(e){return t.includes(e.id)}),l=e.items.filter(function(e){return!t.includes(e.id)}),f(i,l),f(a,u)}else f(i,e.items);(0,r.default)({zones:[i,a],buttonAdd:"btn--add",buttonDelete:"btn--delete",friendsSource:l,friendsTarget:u}),s.addEventListener("keyup",function(){return f(i,l)}),o.addEventListener("keyup",function(){return f(a,u)}),d.addEventListener("click",function(){console.log(u),localStorage["friends-filter"]=JSON.stringify(u.map(function(e){return e.id}))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=function(t,n,r){var i=void 0;if(n!==t){var a=r.querySelector(".btn"),s=t.querySelector(".friends__list");if(a.classList.contains(e.buttonAdd)?(a.classList.remove(e.buttonAdd),a.classList.add(e.buttonDelete)):(a.classList.remove(e.buttonDelete),a.classList.add(e.buttonAdd)),s.appendChild(r),(i=e.friendsSource.findIndex(function(e){return e.id==r.getAttribute("data-id")}))>=0){var o=e.friendsSource.splice(i,1);e.friendsTarget.push(o[0])}else i=e.friendsTarget.findIndex(function(e){return e.id==r.getAttribute("data-id")}),e.friendsTarget.splice(i,1)}};e.zones.forEach(function(r,i){r.addEventListener("click",function(t){t.target.classList.contains(e.buttonAdd)?n(e.zones[i+1],r,t.target.closest(".friend")):t.target.classList.contains(e.buttonDelete)&&n(e.zones[i-1],r,t.target.closest(".friend"))}),r.addEventListener("dragstart",function(e){t={source:r,node:e.target}}),r.addEventListener("dragover",function(e){e.preventDefault()}),r.addEventListener("drop",function(e){t&&(e.preventDefault(),n(r,t.source,t.node),t=null)})})}},function(e,t,n){var r=n(3);e.exports=function(e){var t,n="",i=e||{};return function(e,i){n+='<ul class="friends__list">',function(){var a=e;if("number"==typeof a.length)for(var s=0,o=a.length;s<o;s++){var d=a[s];n=n+'<li class="friends__item friend" draggable="true"'+r.attr("data-id",`${d.id}`,!0,!0)+'><div class="friend__photo"'+r.attr("style",r.style(`background-image: url(${d.photo_100});`),!0,!0)+'><img class="friend__img visually-hidden"'+r.attr("alt",`${d.first_name} ${d.last_name}`,!0,!0)+'></div><div class="friend__title">'+r.escape(null==(t=`${d.first_name} ${d.last_name}`)?"":t)+"</div>",n+="source"==i?'<div class="friend__btn btn btn--add"></div>':'<div class="friend__btn btn btn--delete"></div>',n+="</li>"}else for(var s in o=0,a)o++,d=a[s],n=n+'<li class="friends__item friend" draggable="true"'+r.attr("data-id",`${d.id}`,!0,!0)+'><div class="friend__photo"'+r.attr("style",r.style(`background-image: url(${d.photo_100});`),!0,!0)+'><img class="friend__img visually-hidden"'+r.attr("alt",`${d.first_name} ${d.last_name}`,!0,!0)+'></div><div class="friend__title">'+r.escape(null==(t=`${d.first_name} ${d.last_name}`)?"":t)+"</div>",n+="source"==i?'<div class="friend__btn btn btn--add"></div>':'<div class="friend__btn btn btn--delete"></div>',n+="</li>"}.call(this),n+="</ul>"}.call(this,"friends"in i?i.friends:"undefined"!=typeof friends?friends:void 0,"zone"in i?i.zone:"undefined"!=typeof zone?zone:void 0),n}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e,t){return Array.isArray(e)?function(e,t){for(var n,r="",a="",s=Array.isArray(t),o=0;o<e.length;o++)(n=i(e[o]))&&(s&&t[o]&&(n=d(n)),r=r+a+n,a=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var i in e)i&&e[i]&&r.call(e,i)&&(t=t+n+i,n=" ");return t}(e):e||""}function a(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)r.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+""}function s(e,t,n,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=d(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.merge=function e(t,n){if(1===arguments.length){for(var r=t[0],i=1;i<t.length;i++)r=e(r,t[i]);return r}for(var s in n)if("class"===s){var o=t[s]||[];t[s]=(Array.isArray(o)?o:[o]).concat(n[s]||[])}else if("style"===s){var o=a(t[s]);o=o&&";"!==o[o.length-1]?o+";":o;var d=a(n[s]);d=d&&";"!==d[d.length-1]?d+";":d,t[s]=o+d}else t[s]=n[s];return t},t.classes=i,t.style=a,t.attr=s,t.attrs=function(e,t){var n="";for(var o in e)if(r.call(e,o)){var d=e[o];if("class"===o){d=i(d),n=s(o,d,!1,t)+n;continue}"style"===o&&(d=a(d)),n+=s(o,d,!1,t)}return n};var o=/["&<>]/;function d(e){var t=""+e,n=o.exec(t);if(!n)return e;var r,i,a,s="";for(r=n.index,i=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}i!==r&&(s+=t.substring(i,r)),i=r+1,s+=a}return i!==r?s+t.substring(i,r):s}t.escape=d,t.rethrow=function e(t,r,i,a){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&r||a))throw t.message+=" on line "+i,t;try{a=a||n(4).readFileSync(r,"utf8")}catch(n){e(t,null,i)}var s=3,o=a.split("\n"),d=Math.max(i-s,0),l=Math.min(o.length,i+s);var s=o.slice(d,l).map(function(e,t){var n=t+d+1;return(n==i?"  > ":"    ")+n+"| "+e}).join("\n");t.path=r;t.message=(r||"Pug")+":"+i+"\n"+s+"\n\n"+t.message;throw t}},function(e,t){}],[0]);